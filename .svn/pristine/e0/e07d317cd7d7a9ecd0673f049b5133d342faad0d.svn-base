{"remainingRequest":"E:\\qrhpro\\cms-eam-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\qrhpro\\cms-eam-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\qrhpro\\cms-eam-ui\\src\\components\\Process\\common\\parseElement.js","dependencies":[{"path":"E:\\qrhpro\\cms-eam-ui\\src\\components\\Process\\common\\parseElement.js","mtime":1693791858975},{"path":"E:\\qrhpro\\cms-eam-ui\\babel.config.js","mtime":1693791556521},{"path":"E:\\qrhpro\\cms-eam-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693791616229},{"path":"E:\\qrhpro\\cms-eam-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1693791596985},{"path":"E:\\qrhpro\\cms-eam-ui\\node_modules\\eslint-loader\\index.js","mtime":1693791700180}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi9xcmhwcm8vY21zLWVhbS11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuY29tbW9uUGFyc2UgPSBjb21tb25QYXJzZTsKZXhwb3J0cy5jb25kaXRpb25FeHByZXNzaW9uUGFyc2UgPSBjb25kaXRpb25FeHByZXNzaW9uUGFyc2U7CmV4cG9ydHMuZG9jdW1lbnRhdGlvblBhcnNlID0gZG9jdW1lbnRhdGlvblBhcnNlOwpleHBvcnRzLmZvcm1hdEpzb25LZXlWYWx1ZSA9IGZvcm1hdEpzb25LZXlWYWx1ZTsKZXhwb3J0cy51c2VyVGFza1BhcnNlID0gdXNlclRhc2tQYXJzZTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwp2YXIgX29iamVjdFNwcmVhZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L3FyaHByby9jbXMtZWFtLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDIuanMiKSk7CmZ1bmN0aW9uIGNvbW1vblBhcnNlKGVsZW1lbnQpIHsKICB2YXIgcmVzdWx0ID0gKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKCgwLCBfb2JqZWN0U3ByZWFkMi5kZWZhdWx0KSh7fSwgZWxlbWVudC5idXNpbmVzc09iamVjdCksIGVsZW1lbnQuYnVzaW5lc3NPYmplY3QuJGF0dHJzKTsKICByZXR1cm4gZm9ybWF0SnNvbktleVZhbHVlKHJlc3VsdCk7Cn0KZnVuY3Rpb24gZm9ybWF0SnNvbktleVZhbHVlKHJlc3VsdCkgewogIC8vIOenu+mZpGZsb3dhYmxl5YmN57yA77yM5qC85byP5YyW5pWw57uECiAgZm9yICh2YXIga2V5IGluIHJlc3VsdCkgewogICAgaWYgKGtleS5pbmRleE9mKCdmbG93YWJsZTonKSA9PT0gMCkgewogICAgICB2YXIgbmV3S2V5ID0ga2V5LnJlcGxhY2UoJ2Zsb3dhYmxlOicsICcnKTsKICAgICAgcmVzdWx0W25ld0tleV0gPSByZXN1bHRba2V5XTsKICAgICAgZGVsZXRlIHJlc3VsdFtrZXldOwogICAgfQogIH0KICByZXN1bHQgPSBkb2N1bWVudGF0aW9uUGFyc2UocmVzdWx0KTsKICByZXR1cm4gcmVzdWx0Owp9CmZ1bmN0aW9uIGRvY3VtZW50YXRpb25QYXJzZShvYmopIHsKICBpZiAoJ2RvY3VtZW50YXRpb24nIGluIG9iaikgewogICAgdmFyIHN0ciA9ICcnOwogICAgb2JqLmRvY3VtZW50YXRpb24uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBzdHIgKz0gaXRlbS50ZXh0OwogICAgfSk7CiAgICBvYmouZG9jdW1lbnRhdGlvbiA9IHN0cjsKICB9CiAgcmV0dXJuIG9iajsKfQpmdW5jdGlvbiBjb25kaXRpb25FeHByZXNzaW9uUGFyc2Uob2JqKSB7CiAgaWYgKCdjb25kaXRpb25FeHByZXNzaW9uJyBpbiBvYmopIHsKICAgIGlmIChvYmouY29uZGl0aW9uRXhwcmVzc2lvbikgewogICAgICBvYmouY29uZGl0aW9uRXhwcmVzc2lvbiA9IG9iai5jb25kaXRpb25FeHByZXNzaW9uLmJvZHk7CiAgICB9CiAgfQogIHJldHVybiBvYmo7Cn0KZnVuY3Rpb24gdXNlclRhc2tQYXJzZShvYmopIHsKICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICBpZiAoa2V5ID09PSAnY2FuZGlkYXRlVXNlcnMnKSB7CiAgICAgIHZhciBfb2JqJGtleTsKICAgICAgb2JqLnVzZXJUeXBlID0gJ2NhbmRpZGF0ZVVzZXJzJzsKICAgICAgb2JqW2tleV0gPSAoKF9vYmoka2V5ID0gb2JqW2tleV0pID09PSBudWxsIHx8IF9vYmoka2V5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfb2JqJGtleS5zcGxpdCgnLCcpKSB8fCBbXTsKICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnY2FuZGlkYXRlR3JvdXBzJykgewogICAgICB2YXIgX29iaiRrZXkyOwogICAgICBvYmoudXNlclR5cGUgPSAnY2FuZGlkYXRlR3JvdXBzJzsKICAgICAgb2JqW2tleV0gPSAoKF9vYmoka2V5MiA9IG9ialtrZXldKSA9PT0gbnVsbCB8fCBfb2JqJGtleTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vYmoka2V5Mi5zcGxpdCgnLCcpKSB8fCBbXTsKICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnYXNzaWduZWUnKSB7CiAgICAgIG9iai51c2VyVHlwZSA9ICdhc3NpZ25lZSc7CiAgICB9CiAgfQogIHJldHVybiBvYmo7Cn0="},{"version":3,"names":["commonParse","element","result","_objectSpread2","default","businessObject","$attrs","formatJsonKeyValue","key","indexOf","newKey","replace","documentationParse","obj","str","documentation","forEach","item","text","conditionExpressionParse","conditionExpression","body","userTaskParse","_obj$key","userType","split","_obj$key2"],"sources":["E:/qrhpro/cms-eam-ui/src/components/Process/common/parseElement.js"],"sourcesContent":["export function commonParse(element) {\r\n  const result = {\r\n    ...element.businessObject,\r\n    ...element.businessObject.$attrs\r\n  }\r\n  return formatJsonKeyValue(result)\r\n}\r\n\r\nexport function formatJsonKeyValue(result) {\r\n  // 移除flowable前缀，格式化数组\r\n  for (const key in result) {\r\n    if (key.indexOf('flowable:') === 0) {\r\n      const newKey = key.replace('flowable:', '')\r\n      result[newKey] = result[key]\r\n      delete result[key]\r\n    }\r\n  }\r\n  result = documentationParse(result)\r\n  return result\r\n}\r\n\r\nexport function documentationParse(obj) {\r\n  if ('documentation' in obj) {\r\n    let str = ''\r\n    obj.documentation.forEach(item => {\r\n      str += item.text\r\n    })\r\n    obj.documentation = str\r\n  }\r\n  return obj\r\n}\r\n\r\nexport function conditionExpressionParse(obj) {\r\n  if ('conditionExpression' in obj) {\r\n    if (obj.conditionExpression) {\r\n      obj.conditionExpression = obj.conditionExpression.body\r\n    }\r\n  }\r\n  return obj\r\n}\r\n\r\nexport function userTaskParse(obj) {\r\n  for (const key in obj) {\r\n    if (key === 'candidateUsers') {\r\n      obj.userType = 'candidateUsers'\r\n      obj[key] = obj[key]?.split(',') || []\r\n    } else if (key === 'candidateGroups') {\r\n      obj.userType = 'candidateGroups'\r\n      obj[key] = obj[key]?.split(',') || []\r\n    } else if (key === 'assignee') {\r\n      obj.userType = 'assignee'\r\n    }\r\n  }\r\n  return obj\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;AAAO,SAASA,WAAWA,CAACC,OAAO,EAAE;EACnC,IAAMC,MAAM,OAAAC,cAAA,CAAAC,OAAA,MAAAD,cAAA,CAAAC,OAAA,MACPH,OAAO,CAACI,cAAc,GACtBJ,OAAO,CAACI,cAAc,CAACC,MAAM,CACjC;EACD,OAAOC,kBAAkB,CAACL,MAAM,CAAC;AACnC;AAEO,SAASK,kBAAkBA,CAACL,MAAM,EAAE;EACzC;EACA,KAAK,IAAMM,GAAG,IAAIN,MAAM,EAAE;IACxB,IAAIM,GAAG,CAACC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;MAClC,IAAMC,MAAM,GAAGF,GAAG,CAACG,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;MAC3CT,MAAM,CAACQ,MAAM,CAAC,GAAGR,MAAM,CAACM,GAAG,CAAC;MAC5B,OAAON,MAAM,CAACM,GAAG,CAAC;IACpB;EACF;EACAN,MAAM,GAAGU,kBAAkB,CAACV,MAAM,CAAC;EACnC,OAAOA,MAAM;AACf;AAEO,SAASU,kBAAkBA,CAACC,GAAG,EAAE;EACtC,IAAI,eAAe,IAAIA,GAAG,EAAE;IAC1B,IAAIC,GAAG,GAAG,EAAE;IACZD,GAAG,CAACE,aAAa,CAACC,OAAO,CAAC,UAAAC,IAAI,EAAI;MAChCH,GAAG,IAAIG,IAAI,CAACC,IAAI;IAClB,CAAC,CAAC;IACFL,GAAG,CAACE,aAAa,GAAGD,GAAG;EACzB;EACA,OAAOD,GAAG;AACZ;AAEO,SAASM,wBAAwBA,CAACN,GAAG,EAAE;EAC5C,IAAI,qBAAqB,IAAIA,GAAG,EAAE;IAChC,IAAIA,GAAG,CAACO,mBAAmB,EAAE;MAC3BP,GAAG,CAACO,mBAAmB,GAAGP,GAAG,CAACO,mBAAmB,CAACC,IAAI;IACxD;EACF;EACA,OAAOR,GAAG;AACZ;AAEO,SAASS,aAAaA,CAACT,GAAG,EAAE;EACjC,KAAK,IAAML,GAAG,IAAIK,GAAG,EAAE;IACrB,IAAIL,GAAG,KAAK,gBAAgB,EAAE;MAAA,IAAAe,QAAA;MAC5BV,GAAG,CAACW,QAAQ,GAAG,gBAAgB;MAC/BX,GAAG,CAACL,GAAG,CAAC,GAAG,EAAAe,QAAA,GAAAV,GAAG,CAACL,GAAG,CAAC,cAAAe,QAAA,uBAARA,QAAA,CAAUE,KAAK,CAAC,GAAG,CAAC,KAAI,EAAE;IACvC,CAAC,MAAM,IAAIjB,GAAG,KAAK,iBAAiB,EAAE;MAAA,IAAAkB,SAAA;MACpCb,GAAG,CAACW,QAAQ,GAAG,iBAAiB;MAChCX,GAAG,CAACL,GAAG,CAAC,GAAG,EAAAkB,SAAA,GAAAb,GAAG,CAACL,GAAG,CAAC,cAAAkB,SAAA,uBAARA,SAAA,CAAUD,KAAK,CAAC,GAAG,CAAC,KAAI,EAAE;IACvC,CAAC,MAAM,IAAIjB,GAAG,KAAK,UAAU,EAAE;MAC7BK,GAAG,CAACW,QAAQ,GAAG,UAAU;IAC3B;EACF;EACA,OAAOX,GAAG;AACZ"}]}