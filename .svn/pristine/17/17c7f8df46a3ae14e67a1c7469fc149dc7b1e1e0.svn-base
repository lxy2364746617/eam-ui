{"remainingRequest":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\visual_code_work_space\\cms-eam-ui\\src\\components\\Process\\common\\parseElement.js","dependencies":[{"path":"E:\\visual_code_work_space\\cms-eam-ui\\src\\components\\Process\\common\\parseElement.js","mtime":1693557459604},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\babel.config.js","mtime":1693557459543},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi92aXN1YWxfY29kZV93b3JrX3NwYWNlL2Ntcy1lYW0tdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmNvbW1vblBhcnNlID0gY29tbW9uUGFyc2U7CmV4cG9ydHMuY29uZGl0aW9uRXhwcmVzc2lvblBhcnNlID0gY29uZGl0aW9uRXhwcmVzc2lvblBhcnNlOwpleHBvcnRzLmRvY3VtZW50YXRpb25QYXJzZSA9IGRvY3VtZW50YXRpb25QYXJzZTsKZXhwb3J0cy5mb3JtYXRKc29uS2V5VmFsdWUgPSBmb3JtYXRKc29uS2V5VmFsdWU7CmV4cG9ydHMudXNlclRhc2tQYXJzZSA9IHVzZXJUYXNrUGFyc2U7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKdmFyIF9vYmplY3RTcHJlYWQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJFOi92aXN1YWxfY29kZV93b3JrX3NwYWNlL2Ntcy1lYW0tdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMi5qcyIpKTsKZnVuY3Rpb24gY29tbW9uUGFyc2UoZWxlbWVudCkgewogIHZhciByZXN1bHQgPSAoMCwgX29iamVjdFNwcmVhZDIuZGVmYXVsdCkoKDAsIF9vYmplY3RTcHJlYWQyLmRlZmF1bHQpKHt9LCBlbGVtZW50LmJ1c2luZXNzT2JqZWN0KSwgZWxlbWVudC5idXNpbmVzc09iamVjdC4kYXR0cnMpOwogIHJldHVybiBmb3JtYXRKc29uS2V5VmFsdWUocmVzdWx0KTsKfQpmdW5jdGlvbiBmb3JtYXRKc29uS2V5VmFsdWUocmVzdWx0KSB7CiAgLy8g56e76ZmkZmxvd2FibGXliY3nvIDvvIzmoLzlvI/ljJbmlbDnu4QKICBmb3IgKHZhciBrZXkgaW4gcmVzdWx0KSB7CiAgICBpZiAoa2V5LmluZGV4T2YoJ2Zsb3dhYmxlOicpID09PSAwKSB7CiAgICAgIHZhciBuZXdLZXkgPSBrZXkucmVwbGFjZSgnZmxvd2FibGU6JywgJycpOwogICAgICByZXN1bHRbbmV3S2V5XSA9IHJlc3VsdFtrZXldOwogICAgICBkZWxldGUgcmVzdWx0W2tleV07CiAgICB9CiAgfQogIHJlc3VsdCA9IGRvY3VtZW50YXRpb25QYXJzZShyZXN1bHQpOwogIHJldHVybiByZXN1bHQ7Cn0KZnVuY3Rpb24gZG9jdW1lbnRhdGlvblBhcnNlKG9iaikgewogIGlmICgnZG9jdW1lbnRhdGlvbicgaW4gb2JqKSB7CiAgICB2YXIgc3RyID0gJyc7CiAgICBvYmouZG9jdW1lbnRhdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHN0ciArPSBpdGVtLnRleHQ7CiAgICB9KTsKICAgIG9iai5kb2N1bWVudGF0aW9uID0gc3RyOwogIH0KICByZXR1cm4gb2JqOwp9CmZ1bmN0aW9uIGNvbmRpdGlvbkV4cHJlc3Npb25QYXJzZShvYmopIHsKICBpZiAoJ2NvbmRpdGlvbkV4cHJlc3Npb24nIGluIG9iaikgewogICAgaWYgKG9iai5jb25kaXRpb25FeHByZXNzaW9uKSB7CiAgICAgIG9iai5jb25kaXRpb25FeHByZXNzaW9uID0gb2JqLmNvbmRpdGlvbkV4cHJlc3Npb24uYm9keTsKICAgIH0KICB9CiAgcmV0dXJuIG9iajsKfQpmdW5jdGlvbiB1c2VyVGFza1BhcnNlKG9iaikgewogIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgIGlmIChrZXkgPT09ICdjYW5kaWRhdGVVc2VycycpIHsKICAgICAgdmFyIF9vYmoka2V5OwogICAgICBvYmoudXNlclR5cGUgPSAnY2FuZGlkYXRlVXNlcnMnOwogICAgICBvYmpba2V5XSA9ICgoX29iaiRrZXkgPSBvYmpba2V5XSkgPT09IG51bGwgfHwgX29iaiRrZXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vYmoka2V5LnNwbGl0KCcsJykpIHx8IFtdOwogICAgfSBlbHNlIGlmIChrZXkgPT09ICdjYW5kaWRhdGVHcm91cHMnKSB7CiAgICAgIHZhciBfb2JqJGtleTI7CiAgICAgIG9iai51c2VyVHlwZSA9ICdjYW5kaWRhdGVHcm91cHMnOwogICAgICBvYmpba2V5XSA9ICgoX29iaiRrZXkyID0gb2JqW2tleV0pID09PSBudWxsIHx8IF9vYmoka2V5MiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29iaiRrZXkyLnNwbGl0KCcsJykpIHx8IFtdOwogICAgfSBlbHNlIGlmIChrZXkgPT09ICdhc3NpZ25lZScpIHsKICAgICAgb2JqLnVzZXJUeXBlID0gJ2Fzc2lnbmVlJzsKICAgIH0KICB9CiAgcmV0dXJuIG9iajsKfQ=="},{"version":3,"names":["commonParse","element","result","_objectSpread2","default","businessObject","$attrs","formatJsonKeyValue","key","indexOf","newKey","replace","documentationParse","obj","str","documentation","forEach","item","text","conditionExpressionParse","conditionExpression","body","userTaskParse","_obj$key","userType","split","_obj$key2"],"sources":["E:/visual_code_work_space/cms-eam-ui/src/components/Process/common/parseElement.js"],"sourcesContent":["export function commonParse(element) {\r\n  const result = {\r\n    ...element.businessObject,\r\n    ...element.businessObject.$attrs\r\n  }\r\n  return formatJsonKeyValue(result)\r\n}\r\n\r\nexport function formatJsonKeyValue(result) {\r\n  // 移除flowable前缀，格式化数组\r\n  for (const key in result) {\r\n    if (key.indexOf('flowable:') === 0) {\r\n      const newKey = key.replace('flowable:', '')\r\n      result[newKey] = result[key]\r\n      delete result[key]\r\n    }\r\n  }\r\n  result = documentationParse(result)\r\n  return result\r\n}\r\n\r\nexport function documentationParse(obj) {\r\n  if ('documentation' in obj) {\r\n    let str = ''\r\n    obj.documentation.forEach(item => {\r\n      str += item.text\r\n    })\r\n    obj.documentation = str\r\n  }\r\n  return obj\r\n}\r\n\r\nexport function conditionExpressionParse(obj) {\r\n  if ('conditionExpression' in obj) {\r\n    if (obj.conditionExpression) {\r\n      obj.conditionExpression = obj.conditionExpression.body\r\n    }\r\n  }\r\n  return obj\r\n}\r\n\r\nexport function userTaskParse(obj) {\r\n  for (const key in obj) {\r\n    if (key === 'candidateUsers') {\r\n      obj.userType = 'candidateUsers'\r\n      obj[key] = obj[key]?.split(',') || []\r\n    } else if (key === 'candidateGroups') {\r\n      obj.userType = 'candidateGroups'\r\n      obj[key] = obj[key]?.split(',') || []\r\n    } else if (key === 'assignee') {\r\n      obj.userType = 'assignee'\r\n    }\r\n  }\r\n  return obj\r\n}\r\n"],"mappings":";;;;;;;;;;;;;;;;AAAO,SAASA,WAAWA,CAACC,OAAO,EAAE;EACnC,IAAMC,MAAM,OAAAC,cAAA,CAAAC,OAAA,MAAAD,cAAA,CAAAC,OAAA,MACPH,OAAO,CAACI,cAAc,GACtBJ,OAAO,CAACI,cAAc,CAACC,MAAM,CACjC;EACD,OAAOC,kBAAkB,CAACL,MAAM,CAAC;AACnC;AAEO,SAASK,kBAAkBA,CAACL,MAAM,EAAE;EACzC;EACA,KAAK,IAAMM,GAAG,IAAIN,MAAM,EAAE;IACxB,IAAIM,GAAG,CAACC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,EAAE;MAClC,IAAMC,MAAM,GAAGF,GAAG,CAACG,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;MAC3CT,MAAM,CAACQ,MAAM,CAAC,GAAGR,MAAM,CAACM,GAAG,CAAC;MAC5B,OAAON,MAAM,CAACM,GAAG,CAAC;IACpB;EACF;EACAN,MAAM,GAAGU,kBAAkB,CAACV,MAAM,CAAC;EACnC,OAAOA,MAAM;AACf;AAEO,SAASU,kBAAkBA,CAACC,GAAG,EAAE;EACtC,IAAI,eAAe,IAAIA,GAAG,EAAE;IAC1B,IAAIC,GAAG,GAAG,EAAE;IACZD,GAAG,CAACE,aAAa,CAACC,OAAO,CAAC,UAAAC,IAAI,EAAI;MAChCH,GAAG,IAAIG,IAAI,CAACC,IAAI;IAClB,CAAC,CAAC;IACFL,GAAG,CAACE,aAAa,GAAGD,GAAG;EACzB;EACA,OAAOD,GAAG;AACZ;AAEO,SAASM,wBAAwBA,CAACN,GAAG,EAAE;EAC5C,IAAI,qBAAqB,IAAIA,GAAG,EAAE;IAChC,IAAIA,GAAG,CAACO,mBAAmB,EAAE;MAC3BP,GAAG,CAACO,mBAAmB,GAAGP,GAAG,CAACO,mBAAmB,CAACC,IAAI;IACxD;EACF;EACA,OAAOR,GAAG;AACZ;AAEO,SAASS,aAAaA,CAACT,GAAG,EAAE;EACjC,KAAK,IAAML,GAAG,IAAIK,GAAG,EAAE;IACrB,IAAIL,GAAG,KAAK,gBAAgB,EAAE;MAAA,IAAAe,QAAA;MAC5BV,GAAG,CAACW,QAAQ,GAAG,gBAAgB;MAC/BX,GAAG,CAACL,GAAG,CAAC,GAAG,EAAAe,QAAA,GAAAV,GAAG,CAACL,GAAG,CAAC,cAAAe,QAAA,uBAARA,QAAA,CAAUE,KAAK,CAAC,GAAG,CAAC,KAAI,EAAE;IACvC,CAAC,MAAM,IAAIjB,GAAG,KAAK,iBAAiB,EAAE;MAAA,IAAAkB,SAAA;MACpCb,GAAG,CAACW,QAAQ,GAAG,iBAAiB;MAChCX,GAAG,CAACL,GAAG,CAAC,GAAG,EAAAkB,SAAA,GAAAb,GAAG,CAACL,GAAG,CAAC,cAAAkB,SAAA,uBAARA,SAAA,CAAUD,KAAK,CAAC,GAAG,CAAC,KAAI,EAAE;IACvC,CAAC,MAAM,IAAIjB,GAAG,KAAK,UAAU,EAAE;MAC7BK,GAAG,CAACW,QAAQ,GAAG,UAAU;IAC3B;EACF;EACA,OAAOX,GAAG;AACZ"}]}