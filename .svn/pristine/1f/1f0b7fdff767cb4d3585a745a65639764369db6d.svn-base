{"remainingRequest":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\visual_code_work_space\\cms-eam-ui\\src\\components\\Process\\components\\nodePanel\\property\\multiInstance.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\visual_code_work_space\\cms-eam-ui\\src\\components\\Process\\components\\nodePanel\\property\\multiInstance.vue","mtime":1693557459608},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\babel.config.js","mtime":1693557459543},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi92aXN1YWxfY29kZV93b3JrX3NwYWNlL2Ntcy1lYW0tdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiKTsKdmFyIF9taXhpblBhbmVsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL2NvbXBvbmVudHMvUHJvY2Vzcy9jb21tb24vbWl4aW5QYW5lbCIpKTsKdmFyIF9wYXJzZUVsZW1lbnQgPSByZXF1aXJlKCJAL2NvbXBvbmVudHMvUHJvY2Vzcy9jb21tb24vcGFyc2VFbGVtZW50Iik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBtaXhpbnM6IFtfbWl4aW5QYW5lbC5kZWZhdWx0XSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogdHJ1ZSwKICAgICAgZm9ybURhdGE6IHt9LAogICAgICBwcmVmaXg6ICdmbG93YWJsZTonCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1Db25maWc6IGZ1bmN0aW9uIGZvcm1Db25maWcoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiB7CiAgICAgICAgaW5saW5lOiBmYWxzZSwKICAgICAgICBpdGVtOiBbewogICAgICAgICAgeFR5cGU6ICdpbnB1dCcsCiAgICAgICAgICBuYW1lOiAnY29sbGVjdGlvbicsCiAgICAgICAgICBsYWJlbDogJ+mbhuWQiCcsCiAgICAgICAgICB0b29sdGlwOiAnY29sbGVjdGlvbjog5bGe5oCn5Lya5L2c5Li66KGo6L6+5byP6L+b6KGM6Kej5p6Q44CC5aaC5p6c6KGo6L6+5byP6Kej5p6Q5Li65a2X56ym5Liy6ICM5LiN5piv5LiA5Liq6ZuG5ZCI77yMPGJyIC8+5LiN6K665piv5Zug5Li65pys6Lqr6YWN572u55qE5bCx5piv6Z2Z5oCB5a2X56ym5Liy5YC877yM6L+Y5piv6KGo6L6+5byP6K6h566X57uT5p6c5Li65a2X56ym5Liy77yMPGJyIC8+6L+Z5Liq5a2X56ym5Liy6YO95Lya6KKr5b2T5YGa5Y+Y6YeP5ZCN77yM5bm25LuO5rWB56iL5Y+Y6YeP5Lit55So5LqO6I635Y+W5a6e6ZmF55qE6ZuG5ZCI44CCJwogICAgICAgICAgLy8gcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl6ZuG5ZCI5ZCN56ewJywgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH1dCiAgICAgICAgfSwgewogICAgICAgICAgeFR5cGU6ICdpbnB1dCcsCiAgICAgICAgICBuYW1lOiAnZWxlbWVudFZhcmlhYmxlJywKICAgICAgICAgIGxhYmVsOiAn5YWD57Sg5Y+Y6YePJywKICAgICAgICAgIHRvb2x0aXA6ICdlbGVtZW50VmFyaWFibGU6IOavj+WIm+W7uuS4gOS4queUqOaIt+S7u+WKoeWJje+8jOWFiOS7peivpeWFg+e0oOWPmOmHj+S4umxhYmVs77yM6ZuG5ZCI5Lit55qE5LiA6aG55Li6dmFsdWXvvIw8YnIgLz7liJvlu7rvvIjlsYDpg6jvvInmtYHnqIvlj5jph4/vvIzor6XlsYDpg6jmtYHnqIvlj5jph4/ooqvnlKjkuo7mjIfmtL7nlKjmiLfku7vliqHjgII8YnIgLz7kuIDoiKzmnaXor7TvvIzor6XlrZfnrKbkuLLlupTkuI7mjIflrprkurrlkZjlj5jph4/nm7jlkIzjgIInCiAgICAgICAgICAvLyBydWxlczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlhYPntKDlj5jph48nLCB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10gfV0KICAgICAgICB9LCB7CiAgICAgICAgICB4VHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICBuYW1lOiAnaXNTZXF1ZW50aWFsJywKICAgICAgICAgIGxhYmVsOiAn5omn6KGM5pa55byPJywKICAgICAgICAgIHRvb2x0aXA6ICflubbooYzkvJrnrb7vvIhwYXJhbGxlbO+8ieOAgeS4suihjOS8muetvihzZXF1ZW50aWFsKe+8jOWFtuS4reW5tuihjOS8muetvueahOaEj+aAneaYryDlpJrkuKrkurrlkIzml7bmiafooYzku7vliqHjgILkuLLooYzkvJrnrb7mmK/mjInpobrluo/miafooYzku7vliqHjgIInLAogICAgICAgICAgZGljOiBbewogICAgICAgICAgICBsYWJlbDogJ+S4suihjCcsCiAgICAgICAgICAgIHZhbHVlOiB0cnVlCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGxhYmVsOiAn5bm26KGMJywKICAgICAgICAgICAgdmFsdWU6IGZhbHNlCiAgICAgICAgICB9XQogICAgICAgICAgLy8gcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36YCJ5oup5omn6KGM5pa55byPJywgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH1dCiAgICAgICAgfSwgewogICAgICAgICAgeFR5cGU6ICdpbnB1dCcsCiAgICAgICAgICBuYW1lOiAnY29tcGxldGlvbkNvbmRpdGlvbicsCiAgICAgICAgICBsYWJlbDogJ+WujOaIkOadoeS7ticsCiAgICAgICAgICB0b29sdGlwOiAnY29tcGxldGlvbkNvbmRpdGlvbjog5aSa5a6e5L6L5rS75Yqo5Zyo5omA5pyJ5a6e5L6L6YO95a6M5oiQ5pe257uT5p2f77yM54S26ICM5Lmf5Y+v5Lul5oyH5a6a5LiA5Liq6KGo6L6+5byP77yM5Zyo5q+P5Liq5a6e5L6LPGJyIC8+57uT5p2f5pe26L+b6KGM6K6h566X44CC5b2T6KGo6L6+5byP6K6h566X5Li6dHJ1ZeaXtu+8jOWwhumUgOavgeaJgOacieWJqeS9meeahOWunuS+i++8jOW5tue7k+adn+WkmuWunuS+izxiciAvPua0u+WKqO+8jOe7p+e7reaJp+ihjOa1geeoi+OAguS+i+WmgiAke25yT2ZDb21wbGV0ZWRJbnN0YW5jZXMvbnJPZkluc3RhbmNlcyA+PSAwLjYgfe+8jDxiciAvPuihqOekuuW9k+S7u+WKoeWujOaIkDYwJeaXtu+8jOivpeiKgueCueWwseeul+WujOaIkCcKICAgICAgICAgIC8vIHJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWujOaIkOadoeS7ticsIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXSB9XQogICAgICAgIH1dLAoKICAgICAgICBvcGVyYXRlOiBbewogICAgICAgICAgdGV4dDogJ+ehruWumicsCiAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgY2xpY2s6IF90aGlzLnNhdmUKICAgICAgICB9LCB7CiAgICAgICAgICB0ZXh0OiAn5riF56m6JywKICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICBjbGljazogZnVuY3Rpb24gY2xpY2soKSB7CiAgICAgICAgICAgIF90aGlzLmZvcm1EYXRhID0ge307CiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMkZWxlbWVudCRidXNpbmVzLCBfY2FjaGUkY29tcGxldGlvbkNvbmQ7CiAgICB2YXIgY2FjaGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KChfdGhpcyRlbGVtZW50JGJ1c2luZXMgPSB0aGlzLmVsZW1lbnQuYnVzaW5lc3NPYmplY3QubG9vcENoYXJhY3RlcmlzdGljcykgIT09IG51bGwgJiYgX3RoaXMkZWxlbWVudCRidXNpbmVzICE9PSB2b2lkIDAgPyBfdGhpcyRlbGVtZW50JGJ1c2luZXMgOiB7fSkpOwogICAgY2FjaGUuY29tcGxldGlvbkNvbmRpdGlvbiA9IChfY2FjaGUkY29tcGxldGlvbkNvbmQgPSBjYWNoZS5jb21wbGV0aW9uQ29uZGl0aW9uKSA9PT0gbnVsbCB8fCBfY2FjaGUkY29tcGxldGlvbkNvbmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jYWNoZSRjb21wbGV0aW9uQ29uZC5ib2R5OwogICAgLy8g5ou85o6l5aSa5a6e5L6L5a+56LGhCiAgICBpZiAodGhpcy5lbGVtZW50LmJ1c2luZXNzT2JqZWN0Lmxvb3BDaGFyYWN0ZXJpc3RpY3MpIHsKICAgICAgT2JqZWN0LmFzc2lnbihjYWNoZSwgdGhpcy5lbGVtZW50LmJ1c2luZXNzT2JqZWN0Lmxvb3BDaGFyYWN0ZXJpc3RpY3MuJGF0dHJzKTsKICAgIH0KICAgIHRoaXMuZm9ybURhdGEgPSAoMCwgX3BhcnNlRWxlbWVudC5mb3JtYXRKc29uS2V5VmFsdWUpKGNhY2hlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZUVsZW1lbnQ6IGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnQoKSB7CiAgICAgIGlmICh0aGlzLmZvcm1EYXRhLmlzU2VxdWVudGlhbCAhPT0gbnVsbCAmJiB0aGlzLmZvcm1EYXRhLmlzU2VxdWVudGlhbCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gY29uc3QgbW9kZWwgPSB0aGlzLm1vZGVsZXIuZ2V0KCdtb2RkbGUnKTsKICAgICAgICB2YXIgbG9vcENoYXJhY3RlcmlzdGljcyA9IHRoaXMuZWxlbWVudC5idXNpbmVzc09iamVjdC5nZXQoJ2xvb3BDaGFyYWN0ZXJpc3RpY3MnKTsKICAgICAgICBpZiAoIWxvb3BDaGFyYWN0ZXJpc3RpY3MpIHsKICAgICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3MgPSB0aGlzLm1vZGVsZXIuZ2V0KCdtb2RkbGUnKS5jcmVhdGUoJ2JwbW46TXVsdGlJbnN0YW5jZUxvb3BDaGFyYWN0ZXJpc3RpY3MnKTsKICAgICAgICB9CiAgICAgICAgbG9vcENoYXJhY3RlcmlzdGljc1snaXNTZXF1ZW50aWFsJ10gPSB0aGlzLmZvcm1EYXRhLmlzU2VxdWVudGlhbDsKICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzWydjb2xsZWN0aW9uJ10gPSB0aGlzLmZvcm1EYXRhLmNvbGxlY3Rpb247CiAgICAgICAgbG9vcENoYXJhY3RlcmlzdGljc1snZWxlbWVudFZhcmlhYmxlJ10gPSB0aGlzLmZvcm1EYXRhLmVsZW1lbnRWYXJpYWJsZTsKICAgICAgICAvLyBsZXQgbG9vcENhcmRpbmFsaXR5ID0gbW9kZWwuY3JlYXRlKCJicG1uOkV4cHJlc3Npb24iLHsKICAgICAgICAvLyAgIGJvZHk6ICI0IgogICAgICAgIC8vIH0pOwogICAgICAgIC8vIGxvb3BDaGFyYWN0ZXJpc3RpY3NbJ2xvb3BDYXJkaW5hbGl0eSddID0gbG9vcENhcmRpbmFsaXR5CgogICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3MuJGF0dHJzWydpc1NlcXVlbnRpYWwnXSA9IHRoaXMuZm9ybURhdGEuaXNTZXF1ZW50aWFsOwogICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3MuJGF0dHJzW3RoaXMucHJlZml4ICsgJ2NvbGxlY3Rpb24nXSA9IHRoaXMuZm9ybURhdGEuY29sbGVjdGlvbjsKICAgICAgICBsb29wQ2hhcmFjdGVyaXN0aWNzLiRhdHRyc1t0aGlzLnByZWZpeCArICdlbGVtZW50VmFyaWFibGUnXSA9IHRoaXMuZm9ybURhdGEuZWxlbWVudFZhcmlhYmxlOwogICAgICAgIGlmICh0aGlzLmZvcm1EYXRhLmNvbXBsZXRpb25Db25kaXRpb24pIHsKICAgICAgICAgIGxvb3BDaGFyYWN0ZXJpc3RpY3NbJ2NvbXBsZXRpb25Db25kaXRpb24nXSA9IHRoaXMubW9kZWxlci5nZXQoJ21vZGRsZScpLmNyZWF0ZSgnYnBtbjpFeHByZXNzaW9uJywgewogICAgICAgICAgICBib2R5OiB0aGlzLmZvcm1EYXRhLmNvbXBsZXRpb25Db25kaXRpb24KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICB0aGlzLnVwZGF0ZVByb3BlcnRpZXMoewogICAgICAgICAgbG9vcENoYXJhY3RlcmlzdGljczogbG9vcENoYXJhY3RlcmlzdGljcwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGRlbGV0ZSB0aGlzLmVsZW1lbnQuYnVzaW5lc3NPYmplY3QubG9vcENoYXJhY3RlcmlzdGljczsKICAgICAgfQogICAgfSwKICAgIHNhdmU6IGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWyd4Rm9ybSddLnZhbGlkYXRlKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLnVwZGF0ZUVsZW1lbnQoKTsKICAgICAgICBfdGhpczIuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGUpOwogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"names":["_mixinPanel","_interopRequireDefault","require","_parseElement","mixins","mixinPanel","data","dialogVisible","formData","prefix","computed","formConfig","_this","inline","item","xType","name","label","tooltip","dic","value","operate","text","show","click","save","mounted","_this$element$busines","_cache$completionCond","cache","JSON","parse","stringify","element","businessObject","loopCharacteristics","completionCondition","body","Object","assign","$attrs","formatJsonKeyValue","methods","updateElement","isSequential","undefined","get","modeler","create","collection","elementVariable","updateProperties","_this2","$refs","validate","then","catch","e","console","error","exports","default","_default"],"sources":["src/components/Process/components/nodePanel/property/multiInstance.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-dialog\r\n      title=\"多实例配置\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"600px\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      class=\"muti-instance\"\r\n      @closed=\"$emit('close')\"\r\n    >\r\n      <el-descriptions :column=\"1\" size=\"mini\" border>\r\n        <el-descriptions-item label=\"使用说明\">按照BPMN2.0规范的要求，用于为每个实例创建执行的父执行，会提供下列变量:</el-descriptions-item>\r\n        <el-descriptions-item label=\"nrOfInstances\">实例总数。</el-descriptions-item>\r\n        <el-descriptions-item label=\"nrOfActiveInstances\">当前活动的（即未完成的），实例数量。对于顺序多实例，这个值总为1。</el-descriptions-item>\r\n        <el-descriptions-item label=\"nrOfCompletedInstances\">已完成的实例数量。</el-descriptions-item>\r\n        <el-descriptions-item label=\"loopCounter\">给定实例在for-each循环中的index。</el-descriptions-item>\r\n      </el-descriptions>\r\n      <div class=\"app-container\">\r\n       <x-form ref=\"xForm\" v-model=\"formData\" :config=\"formConfig\" />\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mixinPanel from '@/components/Process/common/mixinPanel'\r\nimport {formatJsonKeyValue} from '@/components/Process/common/parseElement'\r\n\r\nexport default {\r\n  mixins: [mixinPanel],\r\n  data() {\r\n    return {\r\n      dialogVisible: true,\r\n      formData: {},\r\n      prefix: 'flowable:',\r\n    }\r\n  },\r\n  computed: {\r\n    formConfig() {\r\n      const _this = this\r\n      return {\r\n        inline: false,\r\n        item: [\r\n          {\r\n            xType: 'input',\r\n            name: 'collection',\r\n            label: '集合',\r\n            tooltip: 'collection: 属性会作为表达式进行解析。如果表达式解析为字符串而不是一个集合，<br />不论是因为本身配置的就是静态字符串值，还是表达式计算结果为字符串，<br />这个字符串都会被当做变量名，并从流程变量中用于获取实际的集合。',\r\n            // rules: [{ required: true, message: '请输入集合名称', trigger: ['blur', 'change'] }]\r\n          },\r\n          {\r\n            xType: 'input',\r\n            name: 'elementVariable',\r\n            label: '元素变量',\r\n            tooltip: 'elementVariable: 每创建一个用户任务前，先以该元素变量为label，集合中的一项为value，<br />创建（局部）流程变量，该局部流程变量被用于指派用户任务。<br />一般来说，该字符串应与指定人员变量相同。',\r\n            // rules: [{ required: true, message: '请输入元素变量', trigger: ['blur', 'change'] }]\r\n          },\r\n          {\r\n            xType: 'select',\r\n            name: 'isSequential',\r\n            label: '执行方式',\r\n            tooltip: '并行会签（parallel）、串行会签(sequential)，其中并行会签的意思是 多个人同时执行任务。串行会签是按顺序执行任务。',\r\n            dic: [{label: '串行', value: true}, {label: '并行', value: false}],\r\n            // rules: [{ required: true, message: '请选择执行方式', trigger: ['blur', 'change'] }]\r\n          },\r\n          {\r\n            xType: 'input',\r\n            name: 'completionCondition',\r\n            label: '完成条件',\r\n            tooltip: 'completionCondition: 多实例活动在所有实例都完成时结束，然而也可以指定一个表达式，在每个实例<br />结束时进行计算。当表达式计算为true时，将销毁所有剩余的实例，并结束多实例<br />活动，继续执行流程。例如 ${nrOfCompletedInstances/nrOfInstances >= 0.6 }，<br />表示当任务完成60%时，该节点就算完成',\r\n            // rules: [{ required: true, message: '请输入完成条件', trigger: ['blur', 'change'] }]\r\n          }\r\n        ],\r\n        operate: [\r\n          { text: '确定', show: true, click: _this.save },\r\n          { text: '清空', show: true, click: () => { _this.formData = {} } }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const cache = JSON.parse(JSON.stringify(this.element.businessObject.loopCharacteristics ?? {}))\r\n    cache.completionCondition = cache.completionCondition?.body\r\n    // 拼接多实例对象\r\n    if (this.element.businessObject.loopCharacteristics) {\r\n      Object.assign(cache, this.element.businessObject.loopCharacteristics.$attrs)\r\n    }\r\n    this.formData = formatJsonKeyValue(cache)\r\n  },\r\n  methods: {\r\n    updateElement() {\r\n      if (this.formData.isSequential !== null && this.formData.isSequential !== undefined) {\r\n        // const model = this.modeler.get('moddle');\r\n        let loopCharacteristics = this.element.businessObject.get('loopCharacteristics')\r\n        if (!loopCharacteristics) {\r\n          loopCharacteristics = this.modeler.get('moddle').create('bpmn:MultiInstanceLoopCharacteristics')\r\n        }\r\n        loopCharacteristics['isSequential'] = this.formData.isSequential\r\n        loopCharacteristics['collection'] = this.formData.collection\r\n        loopCharacteristics['elementVariable'] = this.formData.elementVariable\r\n        // let loopCardinality = model.create(\"bpmn:Expression\",{\r\n        //   body: \"4\"\r\n        // });\r\n        // loopCharacteristics['loopCardinality'] = loopCardinality\r\n\r\n        loopCharacteristics.$attrs['isSequential'] = this.formData.isSequential\r\n        loopCharacteristics.$attrs[this.prefix + 'collection'] = this.formData.collection\r\n        loopCharacteristics.$attrs[this.prefix + 'elementVariable'] = this.formData.elementVariable\r\n\r\n        if (this.formData.completionCondition) {\r\n          loopCharacteristics['completionCondition'] = this.modeler.get('moddle').create('bpmn:Expression', {body: this.formData.completionCondition})\r\n        }\r\n        this.updateProperties({loopCharacteristics: loopCharacteristics})\r\n      } else {\r\n        delete this.element.businessObject.loopCharacteristics\r\n      }\r\n    },\r\n    save() {\r\n      this.$refs['xForm'].validate().then(() => {\r\n        this.updateElement()\r\n        this.dialogVisible = false\r\n      }).catch(e => console.error(e));\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.muti-instance .el-form-item {\r\n  margin-bottom: 22px;\r\n}\r\n</style>\r\n"],"mappings":"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"}]}