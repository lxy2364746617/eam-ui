{"remainingRequest":"E:\\visual_code_work_space\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\visual_code_work_space\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\visual_code_work_space\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\visual_code_work_space\\ruoyi-ui\\src\\components\\Process\\components\\nodePanel\\sequenceFlow.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\visual_code_work_space\\ruoyi-ui\\src\\components\\Process\\components\\nodePanel\\sequenceFlow.vue","mtime":1693557459615},{"path":"E:\\visual_code_work_space\\ruoyi-ui\\babel.config.js","mtime":1693557459543},{"path":"E:\\visual_code_work_space\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\visual_code_work_space\\ruoyi-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\visual_code_work_space\\ruoyi-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\visual_code_work_space\\ruoyi-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi92aXN1YWxfY29kZV93b3JrX3NwYWNlL3J1b3lpLXVpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIik7CnZhciBfbWl4aW5QYW5lbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vLi4vY29tbW9uL21peGluUGFuZWwiKSk7CnZhciBfU3RyVXRpbCA9IHJlcXVpcmUoIkAvdXRpbHMvU3RyVXRpbCIpOwp2YXIgX21peGluRXhlY3V0aW9uTGlzdGVuZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uLy4uL2NvbW1vbi9taXhpbkV4ZWN1dGlvbkxpc3RlbmVyIikpOwp2YXIgX3BhcnNlRWxlbWVudCA9IHJlcXVpcmUoIi4uLy4uL2NvbW1vbi9wYXJzZUVsZW1lbnQiKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG1peGluczogW19taXhpblBhbmVsLmRlZmF1bHQsIF9taXhpbkV4ZWN1dGlvbkxpc3RlbmVyLmRlZmF1bHRdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtRGF0YToge30sCiAgICAgIGV4ZWN1dGlvbkxpc3RlbmVyTGVuZ3RoOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1Db25maWc6IGZ1bmN0aW9uIGZvcm1Db25maWcoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaW5saW5lOiBmYWxzZSwKICAgICAgICBpdGVtOiBbewogICAgICAgICAgeFR5cGU6ICdpbnB1dCcsCiAgICAgICAgICBuYW1lOiAnaWQnLAogICAgICAgICAgbGFiZWw6ICfoioLngrkgaWQnLAogICAgICAgICAgcnVsZXM6IFt7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAnSWQg5LiN6IO95Li656m6JwogICAgICAgICAgfV0KICAgICAgICB9LCB7CiAgICAgICAgICB4VHlwZTogJ2lucHV0JywKICAgICAgICAgIG5hbWU6ICduYW1lJywKICAgICAgICAgIGxhYmVsOiAn6IqC54K55ZCN56ewJwogICAgICAgIH0sIHsKICAgICAgICAgIHhUeXBlOiAnaW5wdXQnLAogICAgICAgICAgbmFtZTogJ2RvY3VtZW50YXRpb24nLAogICAgICAgICAgbGFiZWw6ICfoioLngrnmj4/ov7AnCiAgICAgICAgfSwgewogICAgICAgICAgeFR5cGU6ICdzbG90JywKICAgICAgICAgIG5hbWU6ICdleGVjdXRpb25MaXN0ZW5lcicsCiAgICAgICAgICBsYWJlbDogJ+aJp+ihjOebkeWQrOWZqCcKICAgICAgICB9LCB7CiAgICAgICAgICB4VHlwZTogJ2lucHV0JywKICAgICAgICAgIG5hbWU6ICdjb25kaXRpb25FeHByZXNzaW9uJywKICAgICAgICAgIGxhYmVsOiAn6Lez6L2s5p2h5Lu2JwogICAgICAgIH0sIHsKICAgICAgICAgIHhUeXBlOiAnaW5wdXQnLAogICAgICAgICAgbmFtZTogJ3NraXBFeHByZXNzaW9uJywKICAgICAgICAgIGxhYmVsOiAn6Lez6L+H6KGo6L6+5byPJwogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJ2Zvcm1EYXRhLmNvbmRpdGlvbkV4cHJlc3Npb24nOiBmdW5jdGlvbiBmb3JtRGF0YUNvbmRpdGlvbkV4cHJlc3Npb24odmFsKSB7CiAgICAgIGlmIChfU3RyVXRpbC5TdHJVdGlsLmlzTm90QmxhbmsodmFsKSkgewogICAgICAgIHZhciBuZXdDb25kaXRpb24gPSB0aGlzLm1vZGVsZXIuZ2V0KCdtb2RkbGUnKS5jcmVhdGUoJ2JwbW46Rm9ybWFsRXhwcmVzc2lvbicsIHsKICAgICAgICAgIGJvZHk6IHZhbAogICAgICAgIH0pOwogICAgICAgIHRoaXMudXBkYXRlUHJvcGVydGllcyh7CiAgICAgICAgICBjb25kaXRpb25FeHByZXNzaW9uOiBuZXdDb25kaXRpb24KICAgICAgICB9KTsKICAgICAgfQogICAgICAvLyBlbHNlIHsKICAgICAgLy8gICB0aGlzLnVwZGF0ZVByb3BlcnRpZXMoeyBjb25kaXRpb25FeHByZXNzaW9uOiBudWxsIH0pCiAgICAgIC8vIH0KICAgIH0sCgogICAgJ2Zvcm1EYXRhLnNraXBFeHByZXNzaW9uJzogZnVuY3Rpb24gZm9ybURhdGFTa2lwRXhwcmVzc2lvbih2YWwpIHsKICAgICAgaWYgKF9TdHJVdGlsLlN0clV0aWwuaXNOb3RCbGFuayh2YWwpKSB7CiAgICAgICAgdGhpcy51cGRhdGVQcm9wZXJ0aWVzKHsKICAgICAgICAgICdmbG93YWJsZTpza2lwRXhwcmVzc2lvbic6IHZhbAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGRlbGV0ZSB0aGlzLmVsZW1lbnQuYnVzaW5lc3NPYmplY3QuJGF0dHJzWyJmbG93YWJsZTpza2lwRXhwcmVzc2lvbiJdOwogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIGNhY2hlID0gKDAsIF9wYXJzZUVsZW1lbnQuY29tbW9uUGFyc2UpKHRoaXMuZWxlbWVudCk7CiAgICBjYWNoZSA9ICgwLCBfcGFyc2VFbGVtZW50LmNvbmRpdGlvbkV4cHJlc3Npb25QYXJzZSkoY2FjaGUpOwogICAgdGhpcy5mb3JtRGF0YSA9IGNhY2hlOwogICAgdGhpcy5jb21wdXRlZEV4ZWN1dGlvbkxpc3RlbmVyTGVuZ3RoKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjb21wdXRlZEV4ZWN1dGlvbkxpc3RlbmVyTGVuZ3RoOiBmdW5jdGlvbiBjb21wdXRlZEV4ZWN1dGlvbkxpc3RlbmVyTGVuZ3RoKCkgewogICAgICB2YXIgX3RoaXMkZWxlbWVudCRidXNpbmVzLCBfdGhpcyRlbGVtZW50JGJ1c2luZXMyOwogICAgICB0aGlzLmV4ZWN1dGlvbkxpc3RlbmVyTGVuZ3RoID0gKF90aGlzJGVsZW1lbnQkYnVzaW5lcyA9IChfdGhpcyRlbGVtZW50JGJ1c2luZXMyID0gdGhpcy5lbGVtZW50LmJ1c2luZXNzT2JqZWN0LmV4dGVuc2lvbkVsZW1lbnRzKSA9PT0gbnVsbCB8fCBfdGhpcyRlbGVtZW50JGJ1c2luZXMyID09PSB2b2lkIDAgfHwgKF90aGlzJGVsZW1lbnQkYnVzaW5lczIgPSBfdGhpcyRlbGVtZW50JGJ1c2luZXMyLnZhbHVlcykgPT09IG51bGwgfHwgX3RoaXMkZWxlbWVudCRidXNpbmVzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkZWxlbWVudCRidXNpbmVzMi5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS4kdHlwZSA9PT0gJ2Zsb3dhYmxlOkV4ZWN1dGlvbkxpc3RlbmVyJzsKICAgICAgfSkubGVuZ3RoKSAhPT0gbnVsbCAmJiBfdGhpcyRlbGVtZW50JGJ1c2luZXMgIT09IHZvaWQgMCA/IF90aGlzJGVsZW1lbnQkYnVzaW5lcyA6IDA7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"names":["_mixinPanel","_interopRequireDefault","require","_StrUtil","_mixinExecutionListener","_parseElement","mixins","mixinPanel","mixinExecutionListener","data","formData","executionListenerLength","computed","formConfig","inline","item","xType","name","label","rules","required","message","watch","formDataConditionExpression","val","StrUtil","isNotBlank","newCondition","modeler","get","create","body","updateProperties","conditionExpression","formDataSkipExpression","element","businessObject","$attrs","created","cache","commonParse","conditionExpressionParse","computedExecutionListenerLength","methods","_this$element$busines","_this$element$busines2","extensionElements","values","filter","$type","length","exports","default","_default"],"sources":["src/components/Process/components/nodePanel/sequenceFlow.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <x-form ref=\"xForm\" v-model=\"formData\" :config=\"formConfig\">\r\n      <template #executionListener>\r\n        <el-badge :value=\"executionListenerLength\">\r\n          <el-button size=\"small\" @click=\"dialogName = 'executionListenerDialog'\">编辑</el-button>\r\n        </el-badge>\r\n      </template>\r\n    </x-form>\r\n    <executionListenerDialog\r\n      v-if=\"dialogName === 'executionListenerDialog'\"\r\n      :element=\"element\"\r\n      :modeler=\"modeler\"\r\n      @close=\"finishExecutionListener\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mixinPanel from '../../common/mixinPanel'\r\nimport {StrUtil} from '@/utils/StrUtil'\r\nimport mixinExecutionListener from '../../common/mixinExecutionListener'\r\nimport { commonParse, conditionExpressionParse } from '../../common/parseElement'\r\nexport default {\r\n  mixins: [mixinPanel, mixinExecutionListener],\r\n  data() {\r\n    return {\r\n      formData: {},\r\n      executionListenerLength: 0\r\n    }\r\n  },\r\n  computed: {\r\n    formConfig() {\r\n      return {\r\n        inline: false,\r\n        item: [\r\n          {\r\n            xType: 'input',\r\n            name: 'id',\r\n            label: '节点 id',\r\n            rules: [{ required: true, message: 'Id 不能为空' }]\r\n          },\r\n          {\r\n            xType: 'input',\r\n            name: 'name',\r\n            label: '节点名称'\r\n          },\r\n          {\r\n            xType: 'input',\r\n            name: 'documentation',\r\n            label: '节点描述'\r\n          },\r\n          {\r\n            xType: 'slot',\r\n            name: 'executionListener',\r\n            label: '执行监听器'\r\n          },\r\n          {\r\n            xType: 'input',\r\n            name: 'conditionExpression',\r\n            label: '跳转条件'\r\n          },\r\n          {\r\n            xType: 'input',\r\n            name: 'skipExpression',\r\n            label: '跳过表达式'\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    'formData.conditionExpression': function(val) {\r\n      if (StrUtil.isNotBlank(val)) {\r\n        const newCondition = this.modeler.get('moddle').create('bpmn:FormalExpression', { body: val })\r\n        this.updateProperties({ conditionExpression: newCondition })\r\n      }\r\n      // else {\r\n      //   this.updateProperties({ conditionExpression: null })\r\n      // }\r\n    },\r\n    'formData.skipExpression': function(val) {\r\n      if (StrUtil.isNotBlank(val)) {\r\n        this.updateProperties({'flowable:skipExpression': val})\r\n      } else {\r\n        delete this.element.businessObject.$attrs[`flowable:skipExpression`]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    let cache = commonParse(this.element)\r\n    cache = conditionExpressionParse(cache)\r\n    this.formData = cache;\r\n    this.computedExecutionListenerLength();\r\n  },\r\n  methods:{\r\n    computedExecutionListenerLength() {\r\n      this.executionListenerLength = this.element.businessObject.extensionElements?.values\r\n        ?.filter(item => item.$type === 'flowable:ExecutionListener').length ?? 0\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style></style>\r\n"],"mappings":";;;;;;;;;;AAmBA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,QAAA,GAAAD,OAAA;AACA,IAAAE,uBAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,aAAA,GAAAH,OAAA;;;;;;;;;;;;;;;;;;;eACA;EACAI,MAAA,GAAAC,mBAAA,EAAAC,+BAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,QAAA;MACAC,uBAAA;IACA;EACA;EACAC,QAAA;IACAC,UAAA,WAAAA,WAAA;MACA;QACAC,MAAA;QACAC,IAAA,GACA;UACAC,KAAA;UACAC,IAAA;UACAC,KAAA;UACAC,KAAA;YAAAC,QAAA;YAAAC,OAAA;UAAA;QACA,GACA;UACAL,KAAA;UACAC,IAAA;UACAC,KAAA;QACA,GACA;UACAF,KAAA;UACAC,IAAA;UACAC,KAAA;QACA,GACA;UACAF,KAAA;UACAC,IAAA;UACAC,KAAA;QACA,GACA;UACAF,KAAA;UACAC,IAAA;UACAC,KAAA;QACA,GACA;UACAF,KAAA;UACAC,IAAA;UACAC,KAAA;QACA;MAEA;IACA;EACA;EACAI,KAAA;IACA,yCAAAC,4BAAAC,GAAA;MACA,IAAAC,gBAAA,CAAAC,UAAA,CAAAF,GAAA;QACA,IAAAG,YAAA,QAAAC,OAAA,CAAAC,GAAA,WAAAC,MAAA;UAAAC,IAAA,EAAAP;QAAA;QACA,KAAAQ,gBAAA;UAAAC,mBAAA,EAAAN;QAAA;MACA;MACA;MACA;MACA;IACA;;IACA,oCAAAO,uBAAAV,GAAA;MACA,IAAAC,gBAAA,CAAAC,UAAA,CAAAF,GAAA;QACA,KAAAQ,gBAAA;UAAA,2BAAAR;QAAA;MACA;QACA,YAAAW,OAAA,CAAAC,cAAA,CAAAC,MAAA;MACA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,IAAAC,KAAA,OAAAC,yBAAA,OAAAL,OAAA;IACAI,KAAA,OAAAE,sCAAA,EAAAF,KAAA;IACA,KAAA7B,QAAA,GAAA6B,KAAA;IACA,KAAAG,+BAAA;EACA;EACAC,OAAA;IACAD,+BAAA,WAAAA,gCAAA;MAAA,IAAAE,qBAAA,EAAAC,sBAAA;MACA,KAAAlC,uBAAA,IAAAiC,qBAAA,IAAAC,sBAAA,QAAAV,OAAA,CAAAC,cAAA,CAAAU,iBAAA,cAAAD,sBAAA,gBAAAA,sBAAA,GAAAA,sBAAA,CAAAE,MAAA,cAAAF,sBAAA,uBAAAA,sBAAA,CACAG,MAAA,WAAAjC,IAAA;QAAA,OAAAA,IAAA,CAAAkC,KAAA;MAAA,GAAAC,MAAA,cAAAN,qBAAA,cAAAA,qBAAA;IACA;EACA;AACA;AAAAO,OAAA,CAAAC,OAAA,GAAAC,QAAA"}]}