{"remainingRequest":"E:\\qrhpro\\cms-eam-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\qrhpro\\cms-eam-ui\\src\\components\\Process\\components\\nodePanel\\startEnd.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\qrhpro\\cms-eam-ui\\src\\components\\Process\\components\\nodePanel\\startEnd.vue","mtime":1693791859076},{"path":"E:\\qrhpro\\cms-eam-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693791616229},{"path":"E:\\qrhpro\\cms-eam-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1693791596985},{"path":"E:\\qrhpro\\cms-eam-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693791616229},{"path":"E:\\qrhpro\\cms-eam-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1693791844037}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbWl4aW5QYW5lbCBmcm9tICcuLi8uLi9jb21tb24vbWl4aW5QYW5lbCcNCmltcG9ydCBtaXhpbkV4ZWN1dGlvbkxpc3RlbmVyIGZyb20gJy4uLy4uL2NvbW1vbi9taXhpbkV4ZWN1dGlvbkxpc3RlbmVyJw0KaW1wb3J0IHsgY29tbW9uUGFyc2UgfSBmcm9tICcuLi8uLi9jb21tb24vcGFyc2VFbGVtZW50Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBtaXhpbnM6IFttaXhpblBhbmVsLCBtaXhpbkV4ZWN1dGlvbkxpc3RlbmVyXSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgZm9ybURhdGE6IHt9LA0KICAgICAgZXhlY3V0aW9uTGlzdGVuZXJMZW5ndGg6IDANCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgZm9ybUNvbmZpZygpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpcw0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgaW5saW5lOiBmYWxzZSwNCiAgICAgICAgaXRlbTogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHhUeXBlOiAnaW5wdXQnLA0KICAgICAgICAgICAgbmFtZTogJ2lkJywNCiAgICAgICAgICAgIGxhYmVsOiAn6IqC54K5IGlkJywNCiAgICAgICAgICAgIHJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ0lkIOS4jeiDveS4uuepuicgfV0NCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHhUeXBlOiAnaW5wdXQnLA0KICAgICAgICAgICAgbmFtZTogJ25hbWUnLA0KICAgICAgICAgICAgbGFiZWw6ICfoioLngrnlkI3np7AnDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB4VHlwZTogJ2lucHV0JywNCiAgICAgICAgICAgIG5hbWU6ICdkb2N1bWVudGF0aW9uJywNCiAgICAgICAgICAgIGxhYmVsOiAn6IqC54K55o+P6L+wJw0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgeFR5cGU6ICdzbG90JywNCiAgICAgICAgICAgIG5hbWU6ICdleGVjdXRpb25MaXN0ZW5lcicsDQogICAgICAgICAgICBsYWJlbDogJ+aJp+ihjOebkeWQrOWZqCcNCiAgICAgICAgICB9LA0KICAgICAgICAgIC8vIHsNCiAgICAgICAgICAvLyAgIHhUeXBlOiAnaW5wdXQnLA0KICAgICAgICAgIC8vICAgbmFtZTogJ2luaXRpYXRvcicsDQogICAgICAgICAgLy8gICBsYWJlbDogJ+WPkei1t+S6uicsDQogICAgICAgICAgLy8gICBzaG93OiAhIV90aGlzLnNob3dDb25maWcuaW5pdGlhdG9yDQogICAgICAgICAgLy8gfSwNCiAgICAgICAgICAvLyB7DQogICAgICAgICAgLy8gICB4VHlwZTogJ2lucHV0JywNCiAgICAgICAgICAvLyAgIG5hbWU6ICdmb3JtS2V5JywNCiAgICAgICAgICAvLyAgIGxhYmVsOiAn6KGo5Y2V5qCH6K+Ga2V5JywNCiAgICAgICAgICAvLyAgIHNob3c6ICEhX3RoaXMuc2hvd0NvbmZpZy5mb3JtS2V5DQogICAgICAgICAgLy8gfQ0KICAgICAgICBdDQogICAgICB9DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgICdmb3JtRGF0YS5pbml0aWF0b3InOiBmdW5jdGlvbih2YWwpIHsNCiAgICAgIGlmICh2YWwgPT09ICcnKSB2YWwgPSBudWxsDQogICAgICAvLyDpu5jorqTorr7nva7mtYHnqIvlj5HotbfkuroNCiAgICAgIC8vIGlmICh2YWwgPT09ICcnKSB2YWwgPSAnSU5JVElBVE9SJw0KICAgICAgdGhpcy51cGRhdGVQcm9wZXJ0aWVzKHsgJ2Zsb3dhYmxlOmluaXRpYXRvcic6IHZhbCB9KQ0KICAgIH0sDQogICAgJ2Zvcm1EYXRhLmZvcm1LZXknOiBmdW5jdGlvbih2YWwpIHsNCiAgICAgIGlmICh2YWwgPT09ICcnKSB2YWwgPSBudWxsDQogICAgICB0aGlzLnVwZGF0ZVByb3BlcnRpZXMoeyAnZmxvd2FibGU6Zm9ybUtleSc6IHZhbCB9KQ0KICAgIH0NCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICAvLyB0aGlzLnVwZGF0ZVByb3BlcnRpZXMoeyAnZmxvd2FibGU6aW5pdGlhdG9yJzogJ0lOSVRJQVRPUicgfSkNCiAgICB0aGlzLmZvcm1EYXRhID0gY29tbW9uUGFyc2UodGhpcy5lbGVtZW50KQ0KICAgIHRoaXMuY29tcHV0ZWRFeGVjdXRpb25MaXN0ZW5lckxlbmd0aCgpOw0KICB9LA0KICBtZXRob2RzOnsNCiAgICBjb21wdXRlZEV4ZWN1dGlvbkxpc3RlbmVyTGVuZ3RoKCkgew0KICAgICAgdGhpcy5leGVjdXRpb25MaXN0ZW5lckxlbmd0aCA9IHRoaXMuZWxlbWVudC5idXNpbmVzc09iamVjdC5leHRlbnNpb25FbGVtZW50cz8udmFsdWVzDQogICAgICAgID8uZmlsdGVyKGl0ZW0gPT4gaXRlbS4kdHlwZSA9PT0gJ2Zsb3dhYmxlOkV4ZWN1dGlvbkxpc3RlbmVyJykubGVuZ3RoID8/IDANCiAgICB9LA0KICB9DQp9DQo="},{"version":3,"sources":["startEnd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"startEnd.vue","sourceRoot":"src/components/Process/components/nodePanel","sourcesContent":["<template>\r\n  <div>\r\n    <x-form ref=\"xForm\" v-model=\"formData\" :config=\"formConfig\">\r\n      <template #executionListener>\r\n        <el-badge :value=\"executionListenerLength\">\r\n          <el-button size=\"small\" @click=\"dialogName = 'executionListenerDialog'\">编辑</el-button>\r\n        </el-badge>\r\n      </template>\r\n    </x-form>\r\n    <executionListenerDialog\r\n      v-if=\"dialogName === 'executionListenerDialog'\"\r\n      :element=\"element\"\r\n      :modeler=\"modeler\"\r\n      @close=\"finishExecutionListener\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mixinPanel from '../../common/mixinPanel'\r\nimport mixinExecutionListener from '../../common/mixinExecutionListener'\r\nimport { commonParse } from '../../common/parseElement'\r\nexport default {\r\n  mixins: [mixinPanel, mixinExecutionListener],\r\n  data() {\r\n    return {\r\n      formData: {},\r\n      executionListenerLength: 0\r\n    }\r\n  },\r\n  computed: {\r\n    formConfig() {\r\n      const _this = this\r\n      return {\r\n        inline: false,\r\n        item: [\r\n          {\r\n            xType: 'input',\r\n            name: 'id',\r\n            label: '节点 id',\r\n            rules: [{ required: true, message: 'Id 不能为空' }]\r\n          },\r\n          {\r\n            xType: 'input',\r\n            name: 'name',\r\n            label: '节点名称'\r\n          },\r\n          {\r\n            xType: 'input',\r\n            name: 'documentation',\r\n            label: '节点描述'\r\n          },\r\n          {\r\n            xType: 'slot',\r\n            name: 'executionListener',\r\n            label: '执行监听器'\r\n          },\r\n          // {\r\n          //   xType: 'input',\r\n          //   name: 'initiator',\r\n          //   label: '发起人',\r\n          //   show: !!_this.showConfig.initiator\r\n          // },\r\n          // {\r\n          //   xType: 'input',\r\n          //   name: 'formKey',\r\n          //   label: '表单标识key',\r\n          //   show: !!_this.showConfig.formKey\r\n          // }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    'formData.initiator': function(val) {\r\n      if (val === '') val = null\r\n      // 默认设置流程发起人\r\n      // if (val === '') val = 'INITIATOR'\r\n      this.updateProperties({ 'flowable:initiator': val })\r\n    },\r\n    'formData.formKey': function(val) {\r\n      if (val === '') val = null\r\n      this.updateProperties({ 'flowable:formKey': val })\r\n    }\r\n  },\r\n  created() {\r\n    // this.updateProperties({ 'flowable:initiator': 'INITIATOR' })\r\n    this.formData = commonParse(this.element)\r\n    this.computedExecutionListenerLength();\r\n  },\r\n  methods:{\r\n    computedExecutionListenerLength() {\r\n      this.executionListenerLength = this.element.businessObject.extensionElements?.values\r\n        ?.filter(item => item.$type === 'flowable:ExecutionListener').length ?? 0\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n"]}]}