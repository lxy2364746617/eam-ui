{"remainingRequest":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\babel-loader\\lib\\index.js!E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\visual_code_work_space\\cms-eam-ui\\src\\components\\flow\\User\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\visual_code_work_space\\cms-eam-ui\\src\\components\\flow\\User\\index.vue","mtime":1693557459628},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\babel.config.js","mtime":1693557459543},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\visual_code_work_space\\cms-eam-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi92aXN1YWxfY29kZV93b3JrX3NwYWNlL2Ntcy1lYW0tdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyIpOwp2YXIgX3VzZXIgPSByZXF1aXJlKCJAL2FwaS9zeXN0ZW0vdXNlciIpOwp2YXIgX3Z1ZVRyZWVzZWxlY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkByaW9waGFlL3Z1ZS10cmVlc2VsZWN0IikpOwpyZXF1aXJlKCJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdC9kaXN0L3Z1ZS10cmVlc2VsZWN0LmNzcyIpOwp2YXIgX1N0clV0aWwgPSByZXF1aXJlKCJAL3V0aWxzL1N0clV0aWwiKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJGbG93VXNlciIsCiAgZGljdHM6IFsnc3lzX25vcm1hbF9kaXNhYmxlJywgJ3N5c191c2VyX3NleCddLAogIGNvbXBvbmVudHM6IHsKICAgIFRyZWVzZWxlY3Q6IF92dWVUcmVlc2VsZWN0LmRlZmF1bHQKICB9LAogIC8vIOaOpeWPl+eItue7hOS7tueahOWAvAogIHByb3BzOiB7CiAgICAvLyDlm57mmL7mlbDmja7kvKDlgLwKICAgIHNlbGVjdFZhbHVlczogewogICAgICB0eXBlOiBOdW1iZXIgfCBTdHJpbmcgfCBBcnJheSwKICAgICAgZGVmYXVsdDogbnVsbCwKICAgICAgcmVxdWlyZWQ6IGZhbHNlCiAgICB9LAogICAgLy8g6KGo5qC857G75Z6LCiAgICBjaGVja1R5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnbXVsdGlwbGUnLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDnlKjmiLfooajmoLzmlbDmja4KICAgICAgdXNlckxpc3Q6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICIiLAogICAgICAvLyDpg6jpl6jmoJHpgInpobkKICAgICAgZGVwdE9wdGlvbnM6IHVuZGVmaW5lZCwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDpg6jpl6jlkI3np7AKICAgICAgZGVwdE5hbWU6IHVuZGVmaW5lZCwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBjaGlsZHJlbjogImNoaWxkcmVuIiwKICAgICAgICBsYWJlbDogImxhYmVsIgogICAgICB9LAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiA1LAogICAgICAgIHVzZXJOYW1lOiB1bmRlZmluZWQsCiAgICAgICAgcGhvbmVudW1iZXI6IHVuZGVmaW5lZCwKICAgICAgICBzdGF0dXM6IHVuZGVmaW5lZCwKICAgICAgICBkZXB0SWQ6IHVuZGVmaW5lZAogICAgICB9LAogICAgICAvLyDliJfkv6Hmga8KICAgICAgY29sdW1uczogW3sKICAgICAgICBrZXk6IDAsCiAgICAgICAgbGFiZWw6ICJcdTc1MjhcdTYyMzdcdTdGMTZcdTUzRjciLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogMSwKICAgICAgICBsYWJlbDogIlx1NzUyOFx1NjIzN1x1NTQwRFx1NzlGMCIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiAyLAogICAgICAgIGxhYmVsOiAiXHU3NTI4XHU2MjM3XHU2NjM1XHU3OUYwIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6IDMsCiAgICAgICAgbGFiZWw6ICJcdTkwRThcdTk1RTgiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfSwgewogICAgICAgIGtleTogNCwKICAgICAgICBsYWJlbDogIlx1NjI0Qlx1NjczQVx1NTNGN1x1NzgwMSIsCiAgICAgICAgdmlzaWJsZTogdHJ1ZQogICAgICB9LCB7CiAgICAgICAga2V5OiA1LAogICAgICAgIGxhYmVsOiAiXHU3MkI2XHU2MDAxIiwKICAgICAgICB2aXNpYmxlOiB0cnVlCiAgICAgIH0sIHsKICAgICAgICBrZXk6IDYsCiAgICAgICAgbGFiZWw6ICJcdTUyMUJcdTVFRkFcdTY1RjZcdTk1RjQiLAogICAgICAgIHZpc2libGU6IHRydWUKICAgICAgfV0sCiAgICAgIHJhZGlvU2VsZWN0ZWQ6IG51bGwsCiAgICAgIC8vIOWNlemAieahhuS8oOWAvAogICAgICBzZWxlY3RVc2VyTGlzdDogW10gLy8g5Zue5pi+5pWw5o2u5Lyg5YC8CiAgICB9OwogIH0sCgogIHdhdGNoOiB7CiAgICAvLyDmoLnmja7lkI3np7DnrZvpgInpg6jpl6jmoJEKICAgIGRlcHROYW1lOiBmdW5jdGlvbiBkZXB0TmFtZSh2YWwpIHsKICAgICAgdGhpcy4kcmVmcy50cmVlLmZpbHRlcih2YWwpOwogICAgfSwKICAgIHNlbGVjdFZhbHVlczogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKG5ld1ZhbCkgewogICAgICAgIGlmIChfU3RyVXRpbC5TdHJVdGlsLmlzTm90QmxhbmsobmV3VmFsKSkgewogICAgICAgICAgaWYgKG5ld1ZhbCBpbnN0YW5jZW9mIE51bWJlcikgewogICAgICAgICAgICB0aGlzLnJhZGlvU2VsZWN0ZWQgPSBuZXdWYWw7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnNlbGVjdFVzZXJMaXN0ID0gbmV3VmFsOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgdXNlckxpc3Q6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihuZXdWYWwpIHsKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgIGlmIChfU3RyVXRpbC5TdHJVdGlsLmlzTm90QmxhbmsobmV3VmFsKSAmJiB0aGlzLnNlbGVjdFVzZXJMaXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF90aGlzJHNlbGVjdFVzZXJMaXN0OwogICAgICAgICAgICBfdGhpcy4kcmVmcy5kYXRhVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgICAgICAgKF90aGlzJHNlbGVjdFVzZXJMaXN0ID0gX3RoaXMuc2VsZWN0VXNlckxpc3QpID09PSBudWxsIHx8IF90aGlzJHNlbGVjdFVzZXJMaXN0ID09PSB2b2lkIDAgfHwgX3RoaXMkc2VsZWN0VXNlckxpc3Quc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICBfdGhpcy4kcmVmcy5kYXRhVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKG5ld1ZhbC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICByZXR1cm4ga2V5ID09IGl0ZW0udXNlcklkOwogICAgICAgICAgICAgIH0pLCB0cnVlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgLy8g56uL5Y2z55Sf5pWICiAgICAgIGRlZXA6IHRydWUgLy/nm5HlkKzlr7nosaHmiJbmlbDnu4TnmoTml7blgJnvvIzopoHnlKjliLDmt7Hluqbnm5HlkKwKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICAgIHRoaXMuZ2V0RGVwdFRyZWUoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6LnlKjmiLfliJfooaggKi9nZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgKDAsIF91c2VyLmxpc3RVc2VyKSh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi51c2VyTGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgX3RoaXMyLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOafpeivoumDqOmXqOS4i+aLieagkee7k+aehCAqL2dldERlcHRUcmVlOiBmdW5jdGlvbiBnZXREZXB0VHJlZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgICgwLCBfdXNlci5kZXB0VHJlZVNlbGVjdCkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5kZXB0T3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS/neWtmOmAieS4reeahOaVsOaNrmlkLHJvdy1rZXnlsLHmmK/opoHmjIflrprkuIDkuKprZXnmoIfor4bov5nkuIDooYznmoTmlbDmja4KICAgIGdldFJvd0tleTogZnVuY3Rpb24gZ2V0Um93S2V5KHJvdykgewogICAgICByZXR1cm4gcm93LmlkOwogICAgfSwKICAgIC8vIOetm+mAieiKgueCuQogICAgZmlsdGVyTm9kZTogZnVuY3Rpb24gZmlsdGVyTm9kZSh2YWx1ZSwgZGF0YSkgewogICAgICBpZiAoIXZhbHVlKSByZXR1cm4gdHJ1ZTsKICAgICAgcmV0dXJuIGRhdGEubGFiZWwuaW5kZXhPZih2YWx1ZSkgIT09IC0xOwogICAgfSwKICAgIC8vIOiKgueCueWNleWHu+S6i+S7tgogICAgaGFuZGxlTm9kZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVOb2RlQ2xpY2soZGF0YSkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLmRlcHRJZCA9IGRhdGEuaWQ7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZU11bHRpcGxlVXNlclNlbGVjdDogZnVuY3Rpb24gaGFuZGxlTXVsdGlwbGVVc2VyU2VsZWN0KHNlbGVjdGlvbikgewogICAgICB0aGlzLiRlbWl0KCdoYW5kbGVVc2VyU2VsZWN0Jywgc2VsZWN0aW9uKTsKICAgIH0sCiAgICAvLyDljZXpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNpbmdsZVVzZXJTZWxlY3Q6IGZ1bmN0aW9uIGhhbmRsZVNpbmdsZVVzZXJTZWxlY3Qoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMucmFkaW9TZWxlY3RlZCA9IHNlbGVjdGlvbi51c2VySWQ7IC8v54K55Ye75b2T5YmN6KGM5pe2LHJhZGlv5ZCM5qC35pyJ6YCJ5Lit5pWI5p6cCiAgICAgIHRoaXMuJGVtaXQoJ2hhbmRsZVVzZXJTZWxlY3QnLCBzZWxlY3Rpb24pOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi9oYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLmRhdGVSYW5nZSA9IFtdOwogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMuZGVwdElkID0gdW5kZWZpbmVkOwogICAgICB0aGlzLiRyZWZzLnRyZWUuc2V0Q3VycmVudEtleShudWxsKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"names":["_user","require","_vueTreeselect","_interopRequireDefault","_StrUtil","name","dicts","components","Treeselect","props","selectValues","type","Number","String","Array","default","required","checkType","data","loading","ids","single","multiple","showSearch","total","userList","title","deptOptions","undefined","open","deptName","form","defaultProps","children","label","queryParams","pageNum","pageSize","userName","phonenumber","status","deptId","columns","key","visible","radioSelected","selectUserList","watch","val","$refs","tree","filter","handler","newVal","StrUtil","isNotBlank","immediate","_this","length","$nextTick","_this$selectUserList","dataTable","clearSelection","split","forEach","toggleRowSelection","find","item","userId","deep","created","getList","getDeptTree","methods","_this2","listUser","then","response","rows","_this3","deptTreeSelect","getRowKey","row","id","filterNode","value","indexOf","handleNodeClick","handleQuery","handleMultipleUserSelect","selection","$emit","handleSingleUserSelect","resetQuery","dateRange","resetForm","setCurrentKey","exports","_default"],"sources":["src/components/flow/User/index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-row :gutter=\"20\">\r\n      <!--部门数据-->\r\n      <el-col :span=\"6\" :xs=\"24\">\r\n        <div class=\"head-container\">\r\n          <el-input\r\n            v-model=\"deptName\"\r\n            placeholder=\"请输入部门名称\"\r\n            clearable\r\n            size=\"small\"\r\n            prefix-icon=\"el-icon-search\"\r\n            style=\"margin-bottom: 20px\"\r\n          />\r\n        </div>\r\n        <div class=\"head-container\">\r\n          <el-tree\r\n            :data=\"deptOptions\"\r\n            :props=\"defaultProps\"\r\n            :expand-on-click-node=\"false\"\r\n            :filter-node-method=\"filterNode\"\r\n            ref=\"tree\"\r\n            node-key=\"id\"\r\n            default-expand-all\r\n            highlight-current\r\n            @node-click=\"handleNodeClick\"\r\n          />\r\n        </div>\r\n      </el-col>\r\n      <!--用户数据-->\r\n      <el-col :span=\"18\" :xs=\"24\">\r\n        <el-form :model=\"queryParams\" ref=\"queryForm\" size=\"small\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\r\n          <el-form-item label=\"用户名称\" prop=\"userName\">\r\n            <el-input\r\n              v-model=\"queryParams.userName\"\r\n              placeholder=\"请输入用户名称\"\r\n              clearable\r\n              style=\"width: 150px\"\r\n              @keyup.enter.native=\"handleQuery\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item label=\"手机号码\" prop=\"phonenumber\">\r\n            <el-input\r\n              v-model=\"queryParams.phonenumber\"\r\n              placeholder=\"请输入手机号码\"\r\n              clearable\r\n              style=\"width: 150px\"\r\n              @keyup.enter.native=\"handleQuery\"\r\n            />\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n            <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-table v-show=\"checkType === 'multiple'\" ref=\"dataTable\" v-loading=\"loading\" :row-key=\"getRowKey\" :data=\"userList\" @selection-change=\"handleMultipleUserSelect\">\r\n          <el-table-column type=\"selection\" :reserve-selection=\"true\" width=\"50\" align=\"center\" />\r\n          <el-table-column label=\"用户编号\" align=\"center\" key=\"userId\" prop=\"userId\" v-if=\"columns[0].visible\" />\r\n          <el-table-column label=\"登录账号\" align=\"center\" key=\"userName\" prop=\"userName\" v-if=\"columns[1].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"用户姓名\" align=\"center\" key=\"nickName\" prop=\"nickName\" v-if=\"columns[2].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"部门\" align=\"center\" key=\"deptName\" prop=\"dept.deptName\" v-if=\"columns[3].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"手机号码\" align=\"center\" key=\"phonenumber\" prop=\"phonenumber\" v-if=\"columns[4].visible\" width=\"120\" />\r\n        </el-table>\r\n        <el-table v-show=\"checkType === 'single'\" v-loading=\"loading\" :data=\"userList\" @current-change=\"handleSingleUserSelect\">\r\n          <el-table-column  width=\"55\" align=\"center\" >\r\n            <template slot-scope=\"scope\">\r\n              <el-radio v-model=\"radioSelected\" :label=\"scope.row.userId\">{{''}}</el-radio>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"用户编号\" align=\"center\" key=\"userId\" prop=\"userId\" v-if=\"columns[0].visible\" />\r\n          <el-table-column label=\"登录账号\" align=\"center\" key=\"userName\" prop=\"userName\" v-if=\"columns[1].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"用户姓名\" align=\"center\" key=\"nickName\" prop=\"nickName\" v-if=\"columns[2].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"部门\" align=\"center\" key=\"deptName\" prop=\"dept.deptName\" v-if=\"columns[3].visible\" :show-overflow-tooltip=\"true\" />\r\n          <el-table-column label=\"手机号码\" align=\"center\" key=\"phonenumber\" prop=\"phonenumber\" v-if=\"columns[4].visible\" width=\"120\" />\r\n        </el-table>\r\n        <pagination\r\n          v-show=\"total>0\"\r\n          :total=\"total\"\r\n          :page-sizes=\"[5,10]\"\r\n          :page.sync=\"queryParams.pageNum\"\r\n          :limit.sync=\"queryParams.pageSize\"\r\n          @pagination=\"getList\"\r\n        />\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { listUser, deptTreeSelect } from \"@/api/system/user\";\r\nimport Treeselect from \"@riophae/vue-treeselect\";\r\nimport \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\r\nimport {StrUtil} from \"@/utils/StrUtil\";\r\n\r\nexport default {\r\n  name: \"FlowUser\",\r\n  dicts: ['sys_normal_disable', 'sys_user_sex'],\r\n  components: { Treeselect },\r\n  // 接受父组件的值\r\n  props: {\r\n    // 回显数据传值\r\n    selectValues: {\r\n      type: Number | String | Array,\r\n      default: null,\r\n      required: false\r\n    },\r\n    // 表格类型\r\n    checkType: {\r\n      type: String,\r\n      default: 'multiple',\r\n      required: true\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      // 遮罩层\r\n      loading: true,\r\n      // 选中数组\r\n      ids: [],\r\n      // 非单个禁用\r\n      single: true,\r\n      // 非多个禁用\r\n      multiple: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 总条数\r\n      total: 0,\r\n      // 用户表格数据\r\n      userList: [],\r\n      // 弹出层标题\r\n      title: \"\",\r\n      // 部门树选项\r\n      deptOptions: undefined,\r\n      // 是否显示弹出层\r\n      open: false,\r\n      // 部门名称\r\n      deptName: undefined,\r\n      // 表单参数\r\n      form: {},\r\n      defaultProps: {\r\n        children: \"children\",\r\n        label: \"label\"\r\n      },\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 5,\r\n        userName: undefined,\r\n        phonenumber: undefined,\r\n        status: undefined,\r\n        deptId: undefined\r\n      },\r\n      // 列信息\r\n      columns: [\r\n        { key: 0, label: `用户编号`, visible: true },\r\n        { key: 1, label: `用户名称`, visible: true },\r\n        { key: 2, label: `用户昵称`, visible: true },\r\n        { key: 3, label: `部门`, visible: true },\r\n        { key: 4, label: `手机号码`, visible: true },\r\n        { key: 5, label: `状态`, visible: true },\r\n        { key: 6, label: `创建时间`, visible: true }\r\n      ],\r\n      radioSelected: null, // 单选框传值\r\n      selectUserList: [] // 回显数据传值\r\n    };\r\n  },\r\n  watch: {\r\n    // 根据名称筛选部门树\r\n    deptName(val) {\r\n      this.$refs.tree.filter(val);\r\n    },\r\n    selectValues: {\r\n      handler(newVal) {\r\n        if (StrUtil.isNotBlank(newVal)) {\r\n          if (newVal instanceof Number) {\r\n            this.radioSelected = newVal\r\n          } else {\r\n            this.selectUserList = newVal;\r\n          }\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    userList: {\r\n      handler(newVal) {\r\n        if (StrUtil.isNotBlank(newVal)  && this.selectUserList.length > 0) {\r\n          this.$nextTick(() => {\r\n            this.$refs.dataTable.clearSelection();\r\n            this.selectUserList?.split(',').forEach(key => {\r\n              this.$refs.dataTable.toggleRowSelection(newVal.find(\r\n                item => key == item.userId\r\n              ), true)\r\n            });\r\n          });\r\n        }\r\n      },\r\n      immediate: true, // 立即生效\r\n      deep: true  //监听对象或数组的时候，要用到深度监听\r\n    }\r\n  },\r\n  created() {\r\n    this.getList();\r\n    this.getDeptTree();\r\n  },\r\n  methods: {\r\n    /** 查询用户列表 */\r\n    getList() {\r\n      this.loading = true;\r\n      listUser(this.queryParams).then(response => {\r\n          this.userList = response.rows;\r\n          this.total = response.total;\r\n          this.loading = false;\r\n        }\r\n      );\r\n    },\r\n    /** 查询部门下拉树结构 */\r\n    getDeptTree() {\r\n      deptTreeSelect().then(response => {\r\n        this.deptOptions = response.data;\r\n      });\r\n    },\r\n    // 保存选中的数据id,row-key就是要指定一个key标识这一行的数据\r\n    getRowKey (row) {\r\n      return row.id\r\n    },\r\n    // 筛选节点\r\n    filterNode(value, data) {\r\n      if (!value) return true;\r\n      return data.label.indexOf(value) !== -1;\r\n    },\r\n    // 节点单击事件\r\n    handleNodeClick(data) {\r\n      this.queryParams.deptId = data.id;\r\n      this.handleQuery();\r\n    },\r\n    // 多选框选中数据\r\n    handleMultipleUserSelect(selection) {\r\n      this.$emit('handleUserSelect', selection);\r\n    },\r\n    // 单选框选中数据\r\n    handleSingleUserSelect(selection) {\r\n      this.radioSelected = selection.userId;//点击当前行时,radio同样有选中效果\r\n      this.$emit('handleUserSelect', selection);\r\n    },\r\n    /** 搜索按钮操作 */\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1;\r\n      this.getList();\r\n    },\r\n    /** 重置按钮操作 */\r\n    resetQuery() {\r\n      this.dateRange = [];\r\n      this.resetForm(\"queryForm\");\r\n      this.queryParams.deptId = undefined;\r\n      this.$refs.tree.setCurrentKey(null);\r\n      this.handleQuery();\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style>\r\n/*隐藏radio展示的label及本身自带的样式*/\r\n/*.el-radio__label{*/\r\n/*  display:none;*/\r\n/*}*/\r\n</style>\r\n"],"mappings":"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"}]}