
#user  root;
worker_processes  1;

#error_log  logs/error.log;
#error_log  logs/error.log  notice;
#error_log  logs/error.log  info;

#pid        logs/nginx.pid;


events {
    worker_connections  1024;
}


http {
    include       mime.types;
    default_type  application/octet-stream;

    #log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
    #                  '$status $body_bytes_sent "$http_referer" '
    #                  '"$http_user_agent" "$http_x_forwarded_for"';

    #access_log  logs/access.log  main;

    sendfile        on;
    #tcp_nopush     on;

    #keepalive_timeout  0;
    keepalive_timeout  65;

    #gzip  on;

    #西南矿业
     server {
        listen      3330;
        #server_name  localhost;

        #charset utf-8;

        #access_log  logs/host.access.log  main;

        location / {
            alias /usr/local/xnky/;
            try_files $uri $uri/ /index.html;
            index  index.html index.htm;
        }
        location /phm/ {
            proxy_pass  http://192.168.1.59:3000/port/;
        }


    }

    server {
        listen      8091;
        #server_name  localhost;

        #charset utf-8;

        #access_log  logs/host.access.log  main;

        location / {
            root   html;
            try_files $uri $uri/ /index.html;
            index  index.html index.htm;
        }
        location ^~/phm {
            #此为后台服务器地址
            proxy_pass   http://127.0.0.1:8195/phm/;
        }

        location ^~/chaos-release{
            #此为后台静态文件访问地址
            proxy_pass   http://127.0.0.1:9000/chaos-release/;
        }


        #         location /new {
        #    #此为新应用index,static目录，同时注意这里是alias,不是root，还有以及new的后面有/结尾
        #         alias /usr/local/nginx/html/new/;
        #         try_files $uri $uri/ /new/index.html;
        #         index index.html index.htm;

        #         }
        #error_page  404              /404.html;

        # redirect server error pages to the static page /50x.html
        #
        # error_page   500 502 503 504  /50x.html;
        # location = /50x.html {
        #     root   html;
        # }

        # proxy the PHP scripts to Apache listening on 127.0.0.1:80
        #

        # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
        #
        #location ~ \.php$ {
        #    root           html;
        #    fastcgi_pass   127.0.0.1:9000;
        #    fastcgi_index  index.php;
        #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
        #    include        fastcgi_params;
        #}

        # deny access to .htaccess files, if Apache's document root
        # concurs with nginx's one
        #
        #location ~ /\.ht {
        #    deny  all;
        #}
    }


    # another virtual host using mix of IP-, name-, and port-based configuration
    #
    #server {
    #    listen       8000;
    #    listen       somename:8080;
    #    server_name  somename  alias  another.alias;

    #    location / {
    #        root   html;
    #        index  index.html index.htm;
    #    }
    #}
    # EAM
    server {
        listen 8001;

        location / {
          alias /usr/local/equipment_management/dist/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }
        location ^~/api {
            #rewrite  ^/api/(.*)$ /$1 break;
	    proxy_pass http://47.103.209.88:8082/;

        }
    }
#     #PHM2.0
server {
 listen 8100;
 location / {
  root /home/app_jar/phm2.0/dist;
  try_files $uri /index.html;
  index index.html;
 }

 location ^~/phm {
  proxy_pass  http://192.168.1.59:8599/phm/;
 }

 location /py/ {
  proxy_pass http://192.168.1.59:8181/;
 }

}
        # jiliang
    server {
        listen 7600;

        location / {
          alias /usr/local/jiliang/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }
        location ^~/phm {
            #rewrite  ^/api/(.*)$ /$1 break;
	    proxy_pass http://192.168.1.59:18293/phm/;
        }
    }
    # hailuo
    server {
        listen 7200;
        location / {
          alias /usr/local/hl/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }
        location ^~/phm {
            #rewrite  ^/api/(.*)$ /$1 break;
	    proxy_pass http://192.168.1.59:7300/phm/;
        }
    }
    # 风机
    server {
        listen 8002;
   	client_max_body_size 10M;

	location / {
          alias /usr/local/fengji-app/dist/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }

        location ^~/baosteelfan {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.59:9099/baosteelfan/;
        }
    }
    # swp
    server {
        listen 8300;

        charset utf-8;
        location / {
          alias /usr/local/swp/;
          autoindex on;
          try_files $uri $uri/ /index.html;
          charset utf-8;
	}

        location ^~/phm {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.146:8183/phm/;
        }
	}
    # eam
    server {
        listen 8003;

        charset utf-8;
        location / {
          alias /usr/local/PHM/;
          autoindex on;
          try_files $uri $uri/ /index.html;
          charset utf-8;
	}

        location ^~/baosteelfan {
            #此为后台服务器地址
            proxy_pass   http://127.0.0.1:8080/;
        }
	}
    # eam2
    server {
        listen 8004;
        charset utf-8;
        location / {
          alias /usr/local/EAM/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }

        location ^~/baosteelfan {
            #此为后台服务器地址
            proxy_pass  http://127.0.0.1:8080/;
        }
    }
    #baori server
    server {
        listen 8010;
        charset utf-8;
        location / {
          alias /usr/local/baori/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }

        location ^~/phm {
            #此为后台服务器地址
            proxy_pass  http://127.0.0.1:8199/phm;
        }
    }
    #mei kongya
    server {
        listen 7800;
        charset utf-8;
        location / {
          alias /usr/local/kongya/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }

        location ^~/phm {
            #此为后台服务器地址
            proxy_pass  http://127.0.0.1:7900/phm;
        }
    }
    #库存优化
    server {
        listen 8035;
        charset utf-8;
        location / {
          alias /usr/local/inventory/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }
    }
 
    #小库管开发环境
    server {
        listen 8037;
        charset utf-8;
        location / {
          alias /usr/local/wms/dev/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }
	location ^~/wms {
           proxy_pass  http://192.168.1.59:8899/wms/;
        }
    }
     #小库管测试环境
    server {
        listen 8036;
        charset utf-8;
        location / {
          alias /usr/local/wms/test/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }
    location /wms {
           proxy_pass  http://192.168.1.59:8699/wms/;
        }
    location /wms1/ {
			proxy_set_header Host $host:$server_port; # $http_host
			proxy_set_header Remote_Addr $remote_addr;
			proxy_set_header X-Real-IP $remote_addr;
			proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
			proxy_set_header X-Scheme $scheme;
			proxy_set_header X-Forwarded-Scheme $scheme;
			proxy_set_header X-Forwarded-Proto $scheme;
			proxy_pass http://117.80.3.22:8036/;
   
}}
server {
         listen 58762;
         charset utf-8;
         
     location / {
            proxy_set_header Host $http_host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header REMOTE-HOST $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_pass  http://117.80.3.22:8036/;
        }
     }
     server {
         listen 58763;
         charset utf-8;
         
     location /wms {
            proxy_set_header Host $http_host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header REMOTE-HOST $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_pass  http://117.80.3.22:8036/;
        }
     }

      #小库管Jenkins测试环境
    server {
        listen 8039;
        charset utf-8;
        location / {
          alias /usr/local/wms/jk_test/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }
    location ^~/wms {
           proxy_pass  http://192.168.1.59:8899/wms/;
        }
    }
    # ftphm
    server {
        listen 8005;
   	client_max_body_size 10M;

	charset utf-8;
        location / {
          alias /usr/local/ftphm/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }

        location ^~/phm {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.59:8194/phm/;
        }
    }
    #响水项目
    server {
        listen 8288;
   	client_max_body_size 10M;

	charset utf-8;
        location / {
          alias /usr/local/xsphm/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }

        location ^~/park {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.59:8293/park/;
        }
    }

    # phm main
    server {
	listen 8009;
	client_max_body_size 10M;

	charset utf-8;
	location / {
	    alias /usr/local/phm/;
	    autoindex on;
	    try_files $uri $uri/  /index.html;
	}

	location ^~/phm {
	    proxy_pass     http://192.168.1.59:8193/phm/;
	    }
        location ^~/chaos-release{
            #此为后台静态文件访问地址
            proxy_pass   http://127.0.0.1:9000/chaos-release/;
        }
    }

    # 智慧园区
    server {
	listen 8006;
	charset utf-8;
        location / {
	   alias /usr/local/zhyq/;
	   autoindex on;
           try_files $uri $uri/ /首页.html;
	}

    }

    # 官网
    server {
	listen 8007;
	charset utf-8;
        location / {
	   alias /usr/local/official-web/static;
	   autoindex on;
           try_files $uri $uri/ =404;
	}

    }

    #健康度
    server {
        listen 8888;
        client_max_body_size 64M;
        charset utf-8;
        location / {
          alias /usr/local/jkd/;
          autoindex on;
          try_files $uri $uri/ /index.html;
        }

        location ^~ /qnhealth {
            proxy_pass   http://localhost:8196/qnhealth;
        }
    }

    # 平台指引

    server {
	listen 9999;
	charset utf-8;
	location / {
	    alias /usr/local/chaos-port/;
	    autoindex on;
	    try_files $uri $uri/ /index.html;
	}
    location ^~ /port {
            proxy_pass   http://localhost:3000/port;
        }
    }
	# 组件库
    server {
        listen 5633;
        charset utf-8;
        location / {
            alias /usr/local/phm-component/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
    }
     server {
        listen 3333;
        charset utf-8;
        location / {
            alias /usr/local/pifa/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
    }
    # 变压器
    server {
        listen 9105;
        charset utf-8;
        location / {
            alias /usr/local/bianya/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
         location ^~/phm {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.59:9200/phm/;
        }
    }
    # 梅钢phm
    server {
        listen 9101;
        charset utf-8;
        location / {
            alias /usr/local/meigang-phm/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
         location ^~/phm {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.59:9201/phm/;
        }
    }
    # 梅钢空压机
    server {
        listen 9102;
        charset utf-8;
        location / {
            alias /usr/local/meigang-kongya/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
         location ^~/phm {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.59:9202/phm/;
        }
    }
    # 梅钢温湿度
    server {
        listen 9103;
        charset utf-8;
        location / {
            alias /usr/local/meigang-wenshidu/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
         location ^~/phm {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.59:9203/phm/;
        }
    }
    # 梅钢温湿度
    server {
        listen 9106;
        charset utf-8;
        location / {
            alias /usr/local/ups/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
         location ^~/phm {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.59:8195/phm/;
        }
    }
    # 煤气柜
    server {
        listen 9108;
        charset utf-8;
        location / {
            alias /usr/local/mqg/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
         location ^~/phm {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.59:8194/phm/;
        }
    }
    # phm2.0
    server {
        listen 9198;
        client_max_body_size 64M;
        charset utf-8;
        location / {
            alias /usr/local/phm2/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
        location ^~/phm {
            proxy_pass  http://192.168.1.59:8599/phm/;
        }

        location /py/ {
            proxy_pass http://192.168.1.59:8181/;
        }
    }
    # phm2.0demo
    server {
        listen 9188;
        charset utf-8;
        location / {
            alias /usr/local/2.0-demo/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
        location /phm/ {
            proxy_pass  http://192.168.1.59:3000/port/;
        }
		location /gpt/ {
			proxy_pass https://aip.baidubce.com/;
		}
    }
     # 杭氧
    server {
        listen 9189;
        charset utf-8;
        client_max_body_size 10M;
        location / {
            alias /usr/local/hangyang/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
         location ^~/phm {
            #此为后台服务器地址
            proxy_pass   http://192.168.1.59:9210/phm/;
        }
    }
     #山西EAM
     server {
         listen 9190;
         charset utf-8;
         server_name localhost;
         client_max_body_size 10M;
         location / {
             root /home/cms_eam/dist;
             try_files $uri $uri/ /index.html;
             index index.html index.htm;
         }
         location /prod-api/ {
             proxy_set_header Host $http_host;
             proxy_set_header X-Real-IP $remote_addr;
             proxy_set_header REMOTE-HOST $remote_addr;
             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
             proxy_pass http://192.168.1.59:9080/;
         }
         error_page 500 502 503 504 /50x.html;
         location = /50x.html {
             root html;
         }
     }
	  #云铜EAM
     server {
         listen 9290;
         charset utf-8;
         server_name localhost;
         client_max_body_size 10M;
         location / {
             root /home/cms_eam/dist_yt;
             try_files $uri $uri/ /index.html;
             index index.html index.htm;
         }
         location /prod-api/ {
             proxy_set_header Host $http_host;
             proxy_set_header X-Real-IP $remote_addr;
             proxy_set_header REMOTE-HOST $remote_addr;
             proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
             proxy_pass http://192.168.1.59:9080/;
         }
         error_page 500 502 503 504 /50x.html;
         location = /50x.html {
             root html;
         }
     }
     # DMS
    server {
        listen 9390;
        charset utf-8;
        location / {
            alias /usr/local/dms/;
            autoindex on;
            try_files $uri $uri/ /index.html;
        }
        location /api/ {
            proxy_pass  http://192.168.1.59:8911/;
        }
    }
    #
    #server {
    #    listen       443 ssl;
    #    server_name  localhost;

    #    ssl_certificate      cert.pem;
    #    ssl_certificate_key  cert.key;

    #    ssl_session_cache    shared:SSL:1m;
    #    ssl_session_timeout  5m;

    #    ssl_ciphers  HIGH:!aNULL:!MD5;
    #    ssl_prefer_server_ciphers  on;

    #    location / {
    #        root   html;
    #        index  index.html index.htm;
    #    }
    #}

}
